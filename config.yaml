# PRIMORDIAL V2 - Advanced Cognitive Tasks for Brain Evolution 2.5+
# TARGET: Break plateau at 1.0 → reach 2.5-4.0 layers
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# COGNITIVE TASKS IMPLEMENTED:
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#   B1: Sequential Memory (10 inputs) - Path Tracking
#     - Loop detection, oscillation, path entropy
#     - Requires 2+ hidden layers for temporal integration
#
#   B2: Pattern Recognition (12 inputs) - Predator Strategies
#     - Classify predators: Random, Patrol, Chase, Ambush
#     - Requires 2-3 hidden layers for pattern classification
#
#   B3: Multi-Agent Coordination (15 inputs, 4 outputs) - Cooperative Hunting
#     - Large prey requiring 2+ attackers
#     - Trust relationships, cooperation signals
#     - Requires 3+ hidden layers for theory of mind
#
# EXPECTED: brain_mean 2.5-4.0 (vs 1.0 baseline)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

world:
  grid_size: 100  # Smaller grid for denser population
  food_regen_rate: 0.4  # Reduced for sustained pressure
  food_max: 100.0
  initial_food_density: 0.7  # Standard

organisms:
  initial_population: 500  # Start near cap for faster selection
  initial_energy: 120.0  # More starting energy
  reproduction_cost: 30.0  # Lower for easier reproduction
  reproduction_threshold: 50.0  # Lower threshold
  metabolism_base: 0.55  # Slightly above baseline (was 0.5)
  food_energy: 23.0  # Slightly reduced from 25
  move_cost: 0.2  # Lower move cost

neural:
  # 75 inputs: 24 base + 8 spatial + 3 temporal + 3 social + 10 sequential + 12 predator + 15 cooperation
  n_inputs: 75
  # 15 outputs: 4 move + eat + reproduce + attack + signal + wait + 2 social + 4 cooperation
  n_outputs: 15
  use_instincts: false  # Disabled for brain evolution

evolution:
  mutation_rate: 0.10
  mutation_strength: 0.3
  add_neuron_rate: 0.50  # High rate - penalty caps growth
  add_connection_rate: 0.30  # High rate for complexity

safety:
  max_population: 900  # Lower cap = continuous selection pressure
  max_energy: 500.0
  max_age: 5000
  max_neurons: 30

logging:
  checkpoint_interval: 500
  stats_interval: 50
  log_level: info

# Fase 2 Week 1: Ecology - PREDATION
predation:
  enabled: true  # Creates selective pressure for brain growth
  damage_multiplier: 10.0  # Moderate damage
  size_energy_multiplier: 25.0  # Good reward for kills
  stored_energy_fraction: 0.5  # Get half of victim's energy
  attack_cooldown: 3  # Slightly less frequent attacks

# Fase 2 Week 1: Ecology - SEASONS
seasons:
  enabled: true  # Creates cyclical selective pressure
  season_length: 1000

food:
  plant_regen_rate: 0.8
  fruit_regen_rate: 0.3
  insect_regen_rate: 0.2
  meat_decay_rate: 0.95
  max_plant: 80.0
  max_meat: 50.0
  max_fruit: 40.0
  max_insects: 30.0

# Fase 2 Week 2: Terrain & Depletion
terrain:
  enabled: true  # Creates geographic barriers for population isolation
  clustered: true
  barrier: false
  barrier_vertical: true

depletion:
  enabled: false  # Optional - can be enabled for extra pressure
  organism_threshold: 8
  food_threshold: 3.0
  depletion_time: 150
  recovery_delay: 300
  recovery_time: 400

# Fase 2 Week 3-4: Sexual Reproduction
reproduction:
  enabled: false  # Asexual reproduction for simplicity
  min_energy: 80.0
  energy_cost: 35.0
  offspring_energy: 50.0
  cooldown: 60
  inbreeding_fitness_cost: 0.25
  max_mating_distance: 1

# Fase 2 Week 5: Analysis & Export
# Diversity metrics tracked every 100 steps
# Survival analysis records all deaths automatically

# B3: Large Prey and Cooperation System
large_prey:
  enabled: true  # Creates cooperative hunting pressure
  max_large_prey: 2  # Maximum concurrent large prey
  spawn_chance: 0.001  # ~1 spawn per 1000 steps
  min_population: 50  # Minimum population for spawning

# Phase 1: Foraging Memory - Food Patches
food_patches:
  enabled: true
  patch_count: 25  # Many patches to cover grid
  initial_capacity: 120.0  # Strong food source
  depletion_rate: 3.0  # Slower depletion
  regeneration_rate: 1.5  # Faster regen
  regeneration_time: 150  # Shorter regen delay
  min_distance: 8  # Allow denser placement

# Phase 2: Procedural Environments
procedural_environment:
  enabled: true
  reshuffle_interval: 100  # High threshold, rely on step-based
  reshuffle_interval_steps: 15000  # Force reshuffle every 15k steps
  base_seed: 42
  variation_level: 0.5

# Phase 1: Behavior Tracking
behavior_tracking:
  enabled: true
  sample_rate: 10
  max_tracked: 200

# Phase 3: Lifetime Learning (Hebbian)
learning:
  enabled: true
  learning_rate: 0.001
  decay_rate: 0.001
  weight_limit: 5.0
  consolidation_threshold: 0.1
  working_memory_size: 100
