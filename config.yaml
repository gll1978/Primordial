# PRIMORDIAL V2 - Grid 200 Scaled Configuration
# VALIDATED: Brain Evolution Working (brain_mean=1.0-1.2, gen_max=37)
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# VALIDATION RESULTS (10,000 steps):
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#   brain_mean: 1.0-1.2 (peak at step 750-800)
#   generation_max: 37 (continuously advancing)
#   energy_mean: 150-280 (moderate pressure)
#   population: stable at 1500
#
# GRID 200 SCALING KEY PARAMETERS:
#   - food_regen_rate: 0.08 (vs 0.5 for grid 80) - creates scarcity
#   - initial_food_density: 0.4 (vs 0.6) - allows population establishment
#   - metabolism_base: 0.6 (vs 0.3) - higher turnover
#   - initial_population: 400 (vs 200) - avoids bottleneck
#   - max_population: 1500 (vs 5000) - maintains birth pressure
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

world:
  grid_size: 200  # Large grid for scaling test
  food_regen_rate: 0.07  # Balanced with predation
  food_max: 100.0
  initial_food_density: 0.5  # More initial food for establishment

organisms:
  initial_population: 600  # Even more to survive predation pressure
  initial_energy: 100.0
  reproduction_cost: 40.0  # Increased from 30 for more turnover
  reproduction_threshold: 70.0  # Increased from 60 for pressure
  metabolism_base: 0.7  # Moderate pressure
  food_energy: 25.0  # Reduced from 30 for scarcity
  move_cost: 0.3  # Increased from 0.2

neural:
  n_inputs: 24  # 20 base + 4 directional threat sensors
  n_outputs: 10
  use_instincts: false  # ← FIXED! Was true, now false for brain evolution

evolution:
  mutation_rate: 0.10
  mutation_strength: 0.3
  add_neuron_rate: 0.20  # Increased from 0.15 for faster brain growth
  add_connection_rate: 0.20  # Increased from 0.15 for complexity

safety:
  max_population: 1500  # Further reduced for more turnover
  max_energy: 500.0
  max_age: 5000  # Match default
  max_neurons: 50

logging:
  checkpoint_interval: 500
  stats_interval: 50
  log_level: info

# Fase 2 Week 1: Ecology
predation:
  enabled: true  # Enabled to create selective pressure for brain growth
  damage_multiplier: 15.0  # High damage for effective predation (~7 hits to kill)
  size_energy_multiplier: 20.0  # Good reward for kills
  stored_energy_fraction: 0.5  # Get half of victim's energy
  attack_cooldown: 2  # Can attack frequently

seasons:
  enabled: false  # ⚠️ INCOMPATIBLE with brain evolution (causes 99.8% birth collapse)
  season_length: 1000

food:
  plant_regen_rate: 0.8
  fruit_regen_rate: 0.3
  insect_regen_rate: 0.2
  meat_decay_rate: 0.95
  max_plant: 80.0
  max_meat: 50.0
  max_fruit: 40.0
  max_insects: 30.0

# Fase 2 Week 2: Terrain & Depletion
terrain:
  enabled: false  # ⚠️ INCOMPATIBLE with brain evolution (requires parameter tuning)
  clustered: true
  barrier: false
  barrier_vertical: true

depletion:
  enabled: false  # Disabled for brain drift test
  organism_threshold: 8
  food_threshold: 3.0
  depletion_time: 150
  recovery_delay: 300
  recovery_time: 400

# Fase 2 Week 3-4: Sexual Reproduction
reproduction:
  enabled: false  # Disabled - use asexual reproduction
  min_energy: 80.0
  energy_cost: 35.0
  offspring_energy: 50.0
  cooldown: 60
  inbreeding_fitness_cost: 0.25
  max_mating_distance: 1

# Fase 2 Week 5: Analysis & Export
# Note: Diversity metrics are automatically tracked every 100 steps
# Survival analysis records all deaths automatically
# Use ExportSystem to export data for external analysis:
#   - export_organisms_csv: Current population snapshot
#   - export_phylogeny_csv: Complete lineage tree
#   - export_phylogeny_newick: Phylogeny in Newick format (for tree viewers)
#   - export_diversity_csv: Historical diversity metrics
#   - export_world_json: Full world state snapshot
#   - export_full_state: All exports in one call
#   - export_summary: Human-readable summary statistics
